/* Source Themes Academic v3.1.1 | https://sourcethemes.com/academic/ */

;
(function(e){let a=e(".navbar"),t=a.innerHeight();function s(n){n=typeof n=="undefined"||typeof n=="object"?window.location.hash:n,n=n.replace(/:/g,"\\:"),e(n).length&&(e("body").addClass("scrolling"),e("html, body").animate({scrollTop:e(n).offset().top-t},600,function(){e("body").removeClass("scrolling")}))}function r(){let n=e("body"),s=n.data("bs.scrollspy");s&&(s._config.offset=t,n.data("bs.scrollspy",s),n.scrollspy("refresh"))}window.addEventListener("hashchange",s),e("#navbar-main li.nav-item a.nav-link").on("click",function(n){let s=this.hash;s&&e(s).length&&e("#homepage").length>0&&(n.preventDefault(),e("html, body").animate({scrollTop:e(s).offset().top-t},800))}),e("#back_to_top").on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},800,function(){window.location.hash=""})}),e(document).on("click",".navbar-collapse.show",function(t){let n=e(t.target).is("a")?e(t.target):e(t.target).parent();n.is("a")&&n.attr("class")!="dropdown-toggle"&&e(this).collapse("hide")});let o=e("#container-publications");o.isotope({itemSelector:".isotope-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"}});let n={};function i(e){let t="";for(let n in e)t+=e[n];return t}e(".pub-filters").on("change",function(){let s=e(this),t=s[0].getAttribute("data-filter-group");n[t]=this.value;let a=i(n);if(o.isotope({filter:a}),t=="pubtype"){let t=e(this).val();t.substr(0,9)==".pubtype-"?window.location.hash=t.substr(9):window.location.hash=""}});function c(){let t=window.location.hash.replace("#",""),s="*";t!=""&&!isNaN(t)&&(s=".pubtype-"+t);let a="pubtype";n[a]=s;let r=i(n);o.isotope({filter:r}),e(".pubtype-select").val(s)}function l(){if(e("#map").length){let i=e("#map-provider").val(),t=e("#map-lat").val(),n=e("#map-lng").val(),s=parseInt(e("#map-zoom").val()),o=e("#map-dir").val(),a=e("#map-api-key").val();if(i==1){let e=new GMaps({div:"#map",lat:t,lng:n,zoom:s,zoomControl:!0,zoomControlOpt:{style:"SMALL",position:"TOP_LEFT"},panControl:!1,streetViewControl:!1,mapTypeControl:!1,overviewMapControl:!1,scrollwheel:!0,draggable:!0});e.addMarker({lat:t,lng:n,click:function(){let s="https://www.google.com/maps/place/"+encodeURIComponent(o)+"/@"+t+","+n+"/";window.open(s,"_blank")},title:o})}else{let e=new L.map("map").setView([t,n],s);i==3&&a.length?L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',maxZoom:18,id:"mapbox.streets",accessToken:a}).addTo(e):L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(e);let r=L.marker([t,n]).addTo(e),c=t+","+n+"#map="+s+"/"+t+"/"+n+"&layers=N";r.bindPopup(o+'<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&route='+c+'">Routing via OpenStreetMap</a></p>')}}}function d(t,n){e.getJSON("https://api.github.com/repos/"+n+"/tags").done(function(n){let s=n[0];e(t).append(s.name)}).fail(function(e,t,n){let s=t+", "+n;console.log("Request Failed: "+s)})}e(window).on("load",function(){window.location.hash&&(window.location.hash=="#top"?window.location.hash="":e(".projects-container").length||s());let o=e("body");o.scrollspy({offset:t});let n;e(window).resize(function(){clearTimeout(n),n=setTimeout(r,200)}),e(".projects-container").each(function(t,n){let o=e(n),i=o.closest("section"),a="masonry";i.find(".isotope").hasClass("js-layout-row")&&(a="fitRows"),o.imagesLoaded(function(){o.isotope({itemSelector:".isotope-item",layoutMode:a,filter:i.find(".default-project-filter").text()}),i.find(".project-filters a").click(function(){let t=e(this).attr("data-filter");return o.isotope({filter:t}),e(this).removeClass("active").addClass("active").siblings().removeClass("active all"),!1}),window.location.hash&&s()})}),e(".pub-filters-select")&&c(),e(".js-cite-modal").click(function(t){t.preventDefault();let n=e(this).attr("data-filename"),s=e("#modal");s.find(".modal-body code").load(n,function(t,s,o){if(s=="error"){let t="Error: ";e("#modal-error").html(t+o.status+" "+o.statusText)}else e(".js-download-cite").attr("href",n)}),s.modal("show")}),e(".js-copy-cite").click(function(e){e.preventDefault();let t=document.createRange(),n=document.querySelector("#modal .modal-body");t.selectNode(n),window.getSelection().addRange(t);try{document.execCommand("copy")}catch{console.log("Error: citation copy failed.")}window.getSelection().removeRange(t)}),l(),e("#TableOfContents > ul > li > ul").unwrap().unwrap(),e("#academic-release").length>0&&d("#academic-release",e("#academic-release").data("repo"))})})(jQuery);let fuseOptions={shouldSort:!0,includeMatches:!0,tokenize:!0,threshold:0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:2,keys:[{name:"title",weight:.8},{name:"summary",weight:.6},{name:"content",weight:.5},{name:"tags",weight:.3}]},summaryLength=60;function getSearchQuery(e){return decodeURIComponent((location.search.split(e+"=")[1]||"").split("&")[0]).replace(/\+/g," ")}function updateURL(e){history.pushState&&window.history.pushState({path:e},"",e)}function initSearch(e,t){let n=$("#search-query").val();if(n.length<1?($("#search-hits").empty(),$(".docs-content .article").show()):$(".docs-content .article").hide(),!e&&n.length<fuseOptions.minMatchCharLength)return;$("#search-hits").empty(),searchAcademic(n,t);let s=window.location.protocol+"//"+window.location.host+window.location.pathname+"?q="+encodeURIComponent(n)+window.location.hash;updateURL(s)}function searchAcademic(e,t){let n=t.search(e);$(".docs-content").length>0&&$("#search-hits").append("<h1>"+i18n.results+"</h1>"),n.length>0?parseResults(e,n):$("#search-hits").append('<div class="search-no-results">'+i18n.no_results+"</div>")}function parseResults(e,t){$.each(t,function(t,n){let s=n.item.content,o="",a=[];fuseOptions.tokenize?a.push(e):$.each(n.matches,function(e,t){if(t.key=="content"){let e=t.indices[0][0]-summaryLength>0?t.indices[0][0]-summaryLength:0,n=t.indices[0][1]+summaryLength<s.length?t.indices[0][1]+summaryLength:s.length;o+=s.substring(e,n),a.push(t.value.substring(t.indices[0][0],t.indices[0][1]-t.indices[0][0]+1))}}),o.length<1&&(o+=s.substring(0,summaryLength*2));var r=$("#search-hit-fuse-template").html();let i=n.item.section;i in content_type&&(i=content_type[i]);let c={key:t,title:n.item.title,type:i,relpermalink:n.item.relpermalink,snippet:o},l=render(r,c);$("#search-hits").append(l),$.each(a,function(e,n){$("#summary-"+t).mark(n)})})}function render(e,t){let n,s,o;for(n in t)s="\\{\\{\\s*"+n+"\\s*\\}\\}",o=new RegExp(s,"g"),e=e.replace(o,t[n]);return e}typeof Fuse=="function"&&$.getJSON(search_index_filename,function(e){let t=new Fuse(e,fuseOptions);(query=getSearchQuery("q"))&&($("#search-query").val(query),initSearch(!0,t)),$("#search-query").keyup(function(e){clearTimeout($.data(this,"searchTimer")),e.keyCode==13?initSearch(!0,t):$(this).data("searchTimer",setTimeout(function(){initSearch(!1,t)},250))})})